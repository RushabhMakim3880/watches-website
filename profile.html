<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Account - TM WATCH</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/profile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="index.html">
                        <img src="images/brands/tm-watch.svg" alt="TM WATCH" height="40">
                    </a>
                </div>
                <nav class="main-nav">
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="men.html">Men</a></li>
                        <li><a href="women.html">Women</a></li>
                        <li><a href="new-arrivals.html">New Arrivals</a></li>
                        <li><a href="best-sellers.html">Best Sellers</a></li>
                    </ul>
                </nav>
                <div class="header-actions">
                    <a href="wishlist.html" class="icon-btn"><i class="fas fa-heart"></i></a>
                    <a href="cart.html" class="icon-btn"><i class="fas fa-shopping-cart"></i></a>
                    <a href="profile.html" class="icon-btn"><i class="fas fa-user"></i></a>
                </div>
            </div>
        </div>
    </header>

    <!-- Profile Container -->
    <div class="profile-container">
        <!-- Sidebar -->
        <aside class="profile-sidebar">
            <div class="profile-header">
                <div class="profile-avatar">
                    <img src="images/default-avatar.png" alt="Profile" id="sidebarAvatar">
                </div>
                <h3 id="sidebarName">Loading...</h3>
                <p id="sidebarEmail">Loading...</p>
            </div>

            <nav class="profile-nav">
                <a href="#dashboard" class="nav-item active" data-section="dashboard">
                    <i class="fas fa-th-large"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#profile-info" class="nav-item" data-section="profile-info">
                    <i class="fas fa-user"></i>
                    <span>Profile Information</span>
                </a>
                <a href="#orders" class="nav-item" data-section="orders">
                    <i class="fas fa-shopping-bag"></i>
                    <span>My Orders</span>
                </a>
                <a href="#wishlist" class="nav-item" data-section="wishlist">
                    <i class="fas fa-heart"></i>
                    <span>My Wishlist</span>
                </a>
                <a href="#addresses" class="nav-item" data-section="addresses">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Saved Addresses</span>
                </a>
                <a href="#security" class="nav-item" data-section="security">
                    <i class="fas fa-lock"></i>
                    <span>Security</span>
                </a>
                <a href="#settings" class="nav-item" data-section="settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
                <a href="#" class="nav-item logout-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="profile-main">
            <!-- Dashboard Section -->
            <section id="dashboard" class="profile-section active">
                <h2>Dashboard</h2>
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <i class="fas fa-shopping-bag"></i>
                        <div class="stat-info">
                            <h3 id="totalOrders">0</h3>
                            <p>Total Orders</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-heart"></i>
                        <div class="stat-info">
                            <h3 id="totalWishlist">0</h3>
                            <p>Wishlist Items</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-map-marker-alt"></i>
                        <div class="stat-info">
                            <h3 id="totalAddresses">0</h3>
                            <p>Saved Addresses</p>
                        </div>
                    </div>
                </div>

                <div class="recent-orders">
                    <h3>Recent Orders</h3>
                    <div id="recentOrdersList"></div>
                </div>
            </section>

            <!-- Profile Information Section -->
            <section id="profile-info" class="profile-section">
                <h2>Profile Information</h2>

                <div class="profile-picture-section">
                    <div class="current-picture">
                        <img src="images/default-avatar.png" alt="Profile Picture" id="profilePicture">
                    </div>
                    <div class="picture-actions">
                        <input type="file" id="profilePictureInput" accept="image/*" style="display: none;">
                        <button class="btn btn-primary"
                            onclick="document.getElementById('profilePictureInput').click()">
                            <i class="fas fa-camera"></i> Change Picture
                        </button>
                        <p class="help-text">JPG, PNG or GIF. Max size 5MB</p>
                    </div>
                </div>

                <form id="profileForm" class="profile-form">
                    <div class="form-group">
                        <label for="profileName">Full Name</label>
                        <input type="text" id="profileName" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="profileEmail">Email</label>
                        <input type="email" id="profileEmail" name="email" disabled>
                        <small>Email cannot be changed</small>
                    </div>
                    <div class="form-group">
                        <label for="profilePhone">Phone Number</label>
                        <input type="tel" id="profilePhone" name="phone">
                    </div>
                    <div class="form-group">
                        <label for="profileAddress">Address</label>
                        <textarea id="profileAddress" name="address" rows="3"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </form>
            </section>

            <!-- Orders Section -->
            <section id="orders" class="profile-section">
                <h2>My Orders</h2>
                <div id="ordersList" class="orders-list"></div>
            </section>

            <!-- Wishlist Section -->
            <section id="wishlist" class="profile-section">
                <h2>My Wishlist</h2>
                <div id="wishlistGrid" class="wishlist-grid"></div>
            </section>

            <!-- Addresses Section -->
            <section id="addresses" class="profile-section">
                <div class="section-header">
                    <h2>Saved Addresses</h2>
                    <button class="btn btn-primary" id="addAddressBtn">
                        <i class="fas fa-plus"></i> Add New Address
                    </button>
                </div>
                <div id="addressesList" class="addresses-grid"></div>
            </section>

            <!-- Security Section -->
            <section id="security" class="profile-section">
                <h2>Security Settings</h2>

                <div class="security-card">
                    <h3>Change Password</h3>
                    <form id="changePasswordForm" class="profile-form">
                        <div class="form-group">
                            <label for="currentPassword">Current Password</label>
                            <input type="password" id="currentPassword" name="currentPassword" required>
                        </div>
                        <div class="form-group">
                            <label for="newPassword">New Password</label>
                            <input type="password" id="newPassword" name="newPassword" required minlength="6">
                            <div class="password-strength" id="passwordStrength"></div>
                        </div>
                        <div class="form-group">
                            <label for="confirmPassword">Confirm New Password</label>
                            <input type="password" id="confirmPassword" name="confirmPassword" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Update Password</button>
                    </form>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="profile-section">
                <h2>Account Settings</h2>

                <div class="settings-card">
                    <h3>Email Preferences</h3>
                    <div class="setting-item">
                        <div class="setting-info">
                            <h4>Newsletter Subscription</h4>
                            <p>Receive updates about new products and offers</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="newsletterToggle">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div class="settings-card danger-zone">
                    <h3>Danger Zone</h3>
                    <div class="setting-item">
                        <div class="setting-info">
                            <h4>Delete Account</h4>
                            <p>Permanently delete your account and all data</p>
                        </div>
                        <button class="btn btn-danger" id="deleteAccountBtn">Delete Account</button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Address Modal -->
    <div id="addressModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="addressModalTitle">Add New Address</h3>
                <button class="close-modal">&times;</button>
            </div>
            <form id="addressForm">
                <input type="hidden" id="addressId">
                <div class="form-row">
                    <div class="form-group">
                        <label for="addressLabel">Label</label>
                        <select id="addressLabel" name="label" required>
                            <option value="Home">Home</option>
                            <option value="Work">Work</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="addressFullName">Full Name</label>
                        <input type="text" id="addressFullName" name="fullName" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="addressPhone">Phone Number</label>
                    <input type="tel" id="addressPhone" name="phone" required>
                </div>
                <div class="form-group">
                    <label for="addressLine1">Address Line 1</label>
                    <input type="text" id="addressLine1" name="addressLine1" required>
                </div>
                <div class="form-group">
                    <label for="addressLine2">Address Line 2 (Optional)</label>
                    <input type="text" id="addressLine2" name="addressLine2">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="addressCity">City</label>
                        <input type="text" id="addressCity" name="city" required>
                    </div>
                    <div class="form-group">
                        <label for="addressState">State</label>
                        <input type="text" id="addressState" name="state" required>
                    </div>
                    <div class="form-group">
                        <label for="addressPincode">Pincode</label>
                        <input type="text" id="addressPincode" name="pincode" required pattern="[0-9]{6}">
                    </div>
                </div>
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="addressDefault" name="isDefault">
                        <span>Set as default address</span>
                    </label>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary close-modal">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Address</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Order Details Modal -->
    <div id="orderDetailsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="orderDetailsTitle">Order Details</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div id="orderDetailsContent" style="padding: 25px;">
                <!-- Order details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2024 TM WATCH. All rights reserved.</p>
        </div>
    </footer>

    <script src="js/config.js"></script>
    <script src="js/profile.js"></script>
</body>

</html>